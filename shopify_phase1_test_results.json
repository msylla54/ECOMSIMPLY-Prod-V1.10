{
  "total_tests": 25,
  "passed_tests": 24,
  "failed_tests": 1,
  "test_details": [
    {
      "test": "1.1 Import OAuth Service",
      "status": "PASS",
      "details": "ShopifyOAuthService importé avec succès",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.579777"
    },
    {
      "test": "1.2 Import Client API",
      "status": "PASS",
      "details": "ShopifyAPIClient importé avec succès",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.580249"
    },
    {
      "test": "1.3 Import Models",
      "status": "PASS",
      "details": "Tous les modèles Shopify importés avec succès",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.667148"
    },
    {
      "test": "1.4 Import Routes",
      "status": "PASS",
      "details": "shopify_router importé avec succès",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.893694"
    },
    {
      "test": "1.5 Tests unitaires disponibles",
      "status": "PASS",
      "details": "Fichier trouvé: /app/tests/backend/test_shopify_phase1.py",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.893731"
    },
    {
      "test": "2.1 OAuth Service Initialization",
      "status": "PASS",
      "details": "Service initialisé avec client_id: test_clien***",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.893797"
    },
    {
      "test": "2.2 OAuth State Generation",
      "status": "PASS",
      "details": "State généré: 180 caractères, URL: https://testshop.myshopify.com/admin/oauth/authori...",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.893992"
    },
    {
      "test": "2.3 Domain Validation",
      "status": "PASS",
      "details": "Validation réussie pour 3 domaines",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.894010"
    },
    {
      "test": "2.4 Token Encryption AES-GCM",
      "status": "PASS",
      "details": "Chiffrement/déchiffrement réussi, méthode: AES-GCM",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932062"
    },
    {
      "test": "3.1 Client Initialization",
      "status": "PASS",
      "details": "Client initialisé pour testshop.myshopify.com, REST: https://testshop.myshopify.com/admin/api/2024-01",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932120"
    },
    {
      "test": "3.2 Endpoints Configuration",
      "status": "PASS",
      "details": "Endpoints configurés, max_retries: 3",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932128"
    },
    {
      "test": "3.3 Retry Logic Configuration",
      "status": "PASS",
      "details": "Retry configuré: 3 tentatives, délai base: 1.0s",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932138"
    },
    {
      "test": "3.4 Utility Methods Available",
      "status": "PASS",
      "details": "Toutes les méthodes disponibles: make_rest_request, make_graphql_request, get_shop_info, get_products, create_product, health_check",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932153"
    },
    {
      "test": "4.1 ShopifyConnection Valid Data",
      "status": "PASS",
      "details": "Connexion créée: Test Shop, statut: ConnectionStatus.ACTIVE",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932304"
    },
    {
      "test": "4.2 Scopes Validation",
      "status": "PASS",
      "details": "Validation réussie pour 3 combinaisons de scopes",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932378"
    },
    {
      "test": "4.3 Domain Validation Rejection",
      "status": "PASS",
      "details": "Rejet correct de 3 domaines invalides",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932448"
    },
    {
      "test": "4.4 Status Validation",
      "status": "PASS",
      "details": "Validation réussie pour 5 statuts",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.932546"
    },
    {
      "test": "5.1 Health Endpoint",
      "status": "PASS",
      "details": "Health check OK: unhealthy",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.938049"
    },
    {
      "test": "5.2 Install Endpoint Auth Required",
      "status": "PASS",
      "details": "Endpoint correctement protégé (403 Forbidden)",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.942190"
    },
    {
      "test": "5.3 Status Endpoint Auth Required",
      "status": "PASS",
      "details": "Endpoint correctement protégé (403)",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.945520"
    },
    {
      "test": "5.4 Disconnect Endpoint Auth Required",
      "status": "PASS",
      "details": "Endpoint correctement protégé (403)",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.948994"
    },
    {
      "test": "5.5 Callback Endpoint Parameter Validation",
      "status": "PASS",
      "details": "Validation des paramètres OK (400)",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.970879"
    },
    {
      "test": "6.1 Unit Tests Execution",
      "status": "FAIL",
      "details": "",
      "error": "No module named 'tests.backend'",
      "timestamp": "2025-08-21T04:47:49.971339"
    },
    {
      "test": "7.1 Router Import in Server",
      "status": "PASS",
      "details": "Import shopify_router trouvé dans server.py",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.977118"
    },
    {
      "test": "7.2 Router Registration in Server",
      "status": "PASS",
      "details": "Enregistrement shopify_router trouvé dans server.py",
      "error": "",
      "timestamp": "2025-08-21T04:47:49.977375"
    }
  ],
  "critical_issues": [],
  "success_rate": 96.0
}